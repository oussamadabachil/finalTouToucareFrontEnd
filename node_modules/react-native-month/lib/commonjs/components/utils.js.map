{"version":3,"names":["SATURDAY","SUNDAY","MONDAY_FIRST","dayShouldBeActive","date","startDate","endDate","firstDayOfMonth","lastDayOfMonth","getMonthDays","month","year","firstDayMonday","disableRange","disabledDays","disableOffsetDays","minDate","maxDate","showSixWeeks","Date","setHours","firstMonthDay","lastMonthDay","daysToAdd","getNumberOfDaysInMonth","days","startWeekOffset","getDay","daysToCompleteRows","lastRowNextMonthDays","totalDays","sixWeekDays","i","addDays","day","getDate","localMonth","getMonth","fullDay","toString","fullMonth","id","getFullYear","isOnSelectableRange","isOutOfRange","isMonthDate","isStartDate","isEndDate","isActive","sameDate","today","dow","isWeekend","isToday","push","key","isVisible","isHidden","areEqual","prevProps","nextProps","locale","Array","isArray","dayNames","showWeekdays","changeMarkedDays","markedDays","changedDate"],"sources":["utils.tsx"],"sourcesContent":["import { addDays, getNumberOfDaysInMonth } from '../utils/date';\nimport { changedDate, changeMarkedDays, sameDate } from '../utils/validations';\nimport { MonthProps, DayType } from '../types';\n\nconst SATURDAY = 6;\nconst SUNDAY = 0;\nconst MONDAY_FIRST = [6, 0, 1, 2, 3, 4, 5];\n\nfunction dayShouldBeActive(\n  date: Date,\n  startDate: Date,\n  endDate: Date,\n  firstDayOfMonth: Date,\n  lastDayOfMonth: Date\n) {\n  if (date > lastDayOfMonth) {\n    return endDate > lastDayOfMonth && startDate <= lastDayOfMonth;\n  }\n\n  return startDate < firstDayOfMonth && endDate >= firstDayOfMonth;\n}\n\nexport function getMonthDays(\n  month: number,\n  year: number,\n  firstDayMonday: boolean,\n  disableRange: boolean,\n  disabledDays: { [key: string]: any },\n  disableOffsetDays: boolean,\n  startDate?: Date,\n  endDate?: Date,\n  minDate?: Date,\n  maxDate?: Date,\n  showSixWeeks?: boolean\n): DayType[] {\n  if (minDate instanceof Date) minDate.setHours(0, 0, 0, 0);\n  if (maxDate instanceof Date) maxDate.setHours(0, 0, 0, 0);\n  if (startDate instanceof Date) startDate.setHours(0, 0, 0, 0);\n  if (endDate instanceof Date) endDate.setHours(0, 0, 0, 0);\n\n  const firstMonthDay = new Date(year, month, 1);\n  const lastMonthDay = new Date(year, month + 1, 0);\n\n  const daysToAdd = getNumberOfDaysInMonth(month, year);\n  const days: DayType[] = [];\n\n  const startWeekOffset = firstDayMonday\n    ? MONDAY_FIRST[firstMonthDay.getDay()]\n    : firstMonthDay.getDay();\n  const daysToCompleteRows = (startWeekOffset + daysToAdd) % 7;\n  let lastRowNextMonthDays = daysToCompleteRows ? 7 - daysToCompleteRows : 0;\n  const totalDays = startWeekOffset + daysToAdd + lastRowNextMonthDays;\n  const sixWeekDays = 42;\n\n  if (showSixWeeks && totalDays !== sixWeekDays) {\n    lastRowNextMonthDays += sixWeekDays - totalDays;\n  }\n\n  for (let i = -startWeekOffset; i < daysToAdd + lastRowNextMonthDays; i++) {\n    const date: Date = addDays(firstMonthDay, i);\n    const day = date.getDate();\n    const localMonth = date.getMonth();\n    const fullDay = day < 10 ? `0${day}` : day.toString();\n    const fullMonth =\n      localMonth < 9 ? `0${localMonth + 1}` : (localMonth + 1).toString();\n    const id = `${date.getFullYear()}-${fullMonth}-${fullDay}`;\n\n    let isOnSelectableRange = !minDate && !maxDate;\n\n    isOnSelectableRange =\n      (!minDate || (minDate && date >= minDate)) &&\n      (!maxDate || (maxDate && date <= maxDate));\n\n    const isOutOfRange = !!(\n      (minDate && date < minDate) ||\n      (maxDate && date > maxDate)\n    );\n    const isMonthDate = i >= 0 && i < daysToAdd;\n    let isStartDate = false;\n    let isEndDate = false;\n    let isActive = false;\n\n    if (endDate && startDate && !disableRange) {\n      isStartDate = isMonthDate && sameDate(date, startDate);\n      isEndDate = isMonthDate && sameDate(date, endDate);\n\n      if (!isMonthDate) {\n        isActive = dayShouldBeActive(\n          date,\n          startDate,\n          endDate,\n          firstMonthDay,\n          lastMonthDay\n        );\n      } else {\n        isActive = date >= startDate && date <= endDate;\n      }\n    } else if (isMonthDate && startDate && sameDate(date, startDate)) {\n      isStartDate = true;\n      isEndDate = true;\n      isActive = true;\n    }\n\n    const today = new Date();\n    const dow = date.getDay();\n    const isWeekend = dow === SATURDAY || dow === SUNDAY;\n    const isToday =\n      day === today.getDate() &&\n      localMonth === today.getMonth() &&\n      year === today.getFullYear();\n\n    days.push({\n      key: `${localMonth}-${id}`,\n      id: id,\n      date,\n      isToday,\n      isWeekend,\n      isMonthDate,\n      isActive,\n      isStartDate,\n      isEndDate,\n      isOutOfRange,\n      isVisible: isOnSelectableRange && isMonthDate && !disabledDays[id],\n      isHidden: disableOffsetDays && !isMonthDate,\n    });\n  }\n\n  return days;\n}\n\nexport function areEqual(prevProps: MonthProps, nextProps: MonthProps) {\n  return (\n    prevProps.month === nextProps.month &&\n    prevProps.year === nextProps.year &&\n    prevProps.locale === nextProps.locale &&\n    Array.isArray(prevProps.dayNames) === Array.isArray(nextProps.dayNames) &&\n    prevProps.showWeekdays === nextProps.showWeekdays &&\n    prevProps.disableRange === nextProps.disableRange &&\n    prevProps.disableOffsetDays === nextProps.disableOffsetDays &&\n    prevProps.firstDayMonday === nextProps.firstDayMonday &&\n    !changeMarkedDays(prevProps.markedDays, nextProps.markedDays) &&\n    !changedDate(prevProps.startDate, nextProps.startDate) &&\n    !changedDate(prevProps.endDate, nextProps.endDate) &&\n    !changedDate(prevProps.minDate, nextProps.minDate) &&\n    !changedDate(prevProps.maxDate, nextProps.maxDate)\n  );\n}\n"],"mappings":"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"}